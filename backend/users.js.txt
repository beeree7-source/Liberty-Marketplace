// Fake in-memory users (replace with database later)
let users = [];

// POST /api/users/register
const registerUser = (req, res) => {
  const { name, email, role } = req.body; // role: "retailer" or "supplier"
  if (!name || !email || !role) {
    return res.status(400).json({ error: "Missing name, email, or role" });
  }
  const user = { id: Date.now(), name, email, role, approved: role === "retailer" ? false : true };
  users.push(user);
  res.json({ message: "User registered", user });
};

module.exports = { registerUser };
